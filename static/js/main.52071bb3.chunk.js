(this.webpackJsonpskscorer=this.webpackJsonpskscorer||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),l=n(5),o=n.n(l),i=(n(12),n(1)),u=(n(13),n(6));!function(e){e[e.NotYet=1]="NotYet",e[e.Bidding=2]="Bidding",e[e.Playing=3]="Playing",e[e.Completed=4]="Completed"}(a||(a={}));var s=a,d=function(e){var t=e.cardCount,n=e.prevRoundScore,a=e.roundMode,l=e.player,o=e.recordBid,d=e.recordScore,m=e.trickPlayedAction,b=e.tricksPlayed,f=e.winning,g=e.startingPlayer,E=Object(r.useState)(0),p=Object(i.a)(E,2),y=p[0],O=p[1],h=Object(r.useState)(0),S=Object(i.a)(h,2),j=S[0],v=S[1],k=Object(r.useState)(0),C=Object(i.a)(k,2),P=C[0],w=C[1],B=Object(u.a)(Array(t+1).keys()),A=Object(r.useState)(0),N=Object(i.a)(A,2),R=N[0],F=N[1];Object(r.useEffect)((function(){if(a===s.Completed){var e=(r=t,o=j,i=P,0===(c=y)&&0===o?10*r:c!==o?10*-Math.abs(c-o):20*o+i);d(l,e+n),F(e)}var r,c,o,i}),[a,y,P,l,R,n,d,t,j]);var K=f?"rgba(255,215,0,0.6)":g&&a===s.Bidding?"rgba(25,25,200,0.6)":"";return c.a.createElement("td",{className:"PlayerRound",style:{width:160,backgroundColor:K},key:l+t},a===s.Bidding&&c.a.createElement("div",{title:g?"Starts round":""},B.map((function(e){return c.a.createElement(c.a.Fragment,null,"\xa0",c.a.createElement("input",{key:l+e,type:"radio",name:l,id:l+e,value:e,onClick:function(){var t;O(t=e),o(l,t)}}),c.a.createElement("label",{key:l+e+"L",htmlFor:l+e},e),"\xa0",c.a.createElement("br",null))}))),(a===s.Completed||a===s.Playing)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,"Bid: ",y," "),c.a.createElement("span",null,"Won: ",j," "),a===s.Playing&&b<t&&c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){v(j+1),m()}},"Add Trick")),a===s.Playing&&b===t&&c.a.createElement("div",null,c.a.createElement("input",{placeholder:"Bonus",type:"number",style:{width:44},onChange:function(e){w(Number(e.target.value))}}))),a===s.Completed&&c.a.createElement(c.a.Fragment,null,P>0&&c.a.createElement("div",null,"Bonus: ",P),c.a.createElement("div",null,"Score: ",R),c.a.createElement("div",null,"Total: ",R+n)))},m=function(e){var t=e.cardCount,n=e.players,a=e.prevRoundScores,l=e.currentRound,o=e.roundCompleteAction,u=e.winningPlayers,m=e.startingPlayer,b=Object(r.useState)(l<t?s.NotYet:l===t?s.Bidding:s.Completed),f=Object(i.a)(b,2),g=f[0],E=f[1],p=Object(r.useState)({}),y=Object(i.a)(p,2),O=y[0],h=y[1],S=Object(r.useState)(!1),j=Object(i.a)(S,2),v=j[0],k=j[1],C=Object(r.useState)(0),P=Object(i.a)(C,2),w=P[0],B=P[1],A=function(e,t){O[e]=t,h(O);var a=!0,r=0;n.forEach((function(e){void 0===O[e]?a=!1:r+=O[e]})),k(a),B(r)},N=Object(r.useState)({}),R=Object(i.a)(N,2),F=R[0],K=R[1],J=function(e,t){F[e]=t,K(F)};Object(r.useEffect)((function(){E(l<t?s.NotYet:l===t?s.Bidding:s.Completed)}),[t,l]);var Y=Object(r.useState)(0),I=Object(i.a)(Y,2),M=I[0],W=I[1],x=function(){W(M+1)},G=Object(r.useState)(!1),T=Object(i.a)(G,2),z=T[0],L=T[1];return c.a.createElement("tr",{className:"Round"},c.a.createElement("td",{key:"cardCount"},t,!v&&l===t&&c.a.createElement("div",null,"Enter bids")),n.map((function(e){return c.a.createElement(d,{key:e+t,cardCount:t,trickPlayedAction:x,tricksPlayed:M,prevRoundScore:a&&a[e]?a[e]:0,roundMode:g,player:e,recordBid:A,recordScore:J,winning:u.includes(e)&&t===l-1,startingPlayer:m===e})})),c.a.createElement("td",{style:{width:50,border:"none"}},g===s.Bidding&&v&&c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:function(){E(s.Playing)}},"Start Round"),c.a.createElement("div",{style:{width:100}},w===t?"Bids at par":w<t?"Bids "+(t-w)+" under":"Bids "+(w-t)+" over")),g===s.Playing&&M<t&&!z&&c.a.createElement("button",{onClick:function(){L(!0),x()}},"Kraken Played"),g===s.Playing&&M===t&&c.a.createElement("button",{onClick:function(){E(s.Completed),o(F)}},"Round done")))},b=(n(14),function(e){var t=e.players,n=e.deletePlayerAction,a=e.startGameAction,l=Object(r.useState)(1),o=Object(i.a)(l,2),u=o[0],s=o[1],d=Object(r.useState)([]),b=Object(i.a)(d,2),f=b[0],g=b[1],E=Object(r.useState)([]),p=Object(i.a)(E,2),y=p[0],O=p[1],h=function(e){1===u&&a(),f[u]=e,g(f),s(u+1)},S=Object(r.useState)(0),j=Object(i.a)(S,2),v=j[0],k=j[1];return Object(r.useEffect)((function(){var e=0;if(u>1){var t=u-1;for(var n in f[t])f[t][n]>e?(y=[n],e=f[t][n]):f[t][n]===e&&y.push(n);O(y)}}),[f,u]),c.a.createElement(c.a.Fragment,null,c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Round"),t.map((function(e){return c.a.createElement("th",{key:e,title:1===u?"Click here to make this the starting player":"",onClick:function(){return function(e){if(1===u){var n=0,a={};t.forEach((function(e){a[e]=n++})),k(a[e])}}(e)}},e,"\xa0",1===u&&c.a.createElement("button",{onClick:function(){n(e)}}," \u2717"))})))),c.a.createElement("tbody",null,[1,2,3,4,5,6,7,8,9,10].map((function(e){return c.a.createElement(m,{key:e,cardCount:e,players:t,prevRoundScores:e>1?f[e-1]:null,currentRound:u,roundCompleteAction:h,winningPlayers:y,startingPlayer:t[(v+e-1)%t.length]})})))))});var f=function(){var e=localStorage.getItem("players"),t=["Player 1","Player 2","Player 3"];e&&(t=JSON.parse(e));var n=Object(r.useState)(t),a=Object(i.a)(n,2),l=a[0],o=a[1],u=Object(r.useState)(""),s=Object(i.a)(u,2),d=s[0],m=s[1],f=Object(r.useState)(!1),g=Object(i.a)(f,2),E=g[0],p=g[1],y=Object(r.useState)(!1),O=Object(i.a)(y,2),h=O[0],S=O[1];return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"App-body"},c.a.createElement("h1",null,"Ye New Skull King Scoresheet"),!E&&!h&&c.a.createElement("button",{onClick:function(){p(!0)}},"Add player"),E&&c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"text",placeholder:"name",onChange:function(e){m(e.target.value)}}),c.a.createElement("button",{onClick:function(){l.push(d),o(l),p(!1),localStorage.setItem("players",JSON.stringify(l))}},"OK")),c.a.createElement(b,{players:l,deletePlayerAction:function(e){o(l.filter((function(t){return t!==e}))),localStorage.setItem("players",JSON.stringify(l.filter((function(t){return t!==e}))))},startGameAction:function(){S(!0)}}),c.a.createElement("br",null),c.a.createElement("div",{style:{fontSize:11}},"\xa9 2020 Craig Fisher ",c.a.createElement("a",{href:"https://twitter.com/craigfis"},"@craigfis"),c.a.createElement("br",null),c.a.createElement("a",{href:"https://github.com/Craigfis/SkullKingScorer"},"https://github.com/Craigfis/SkullKingScorer"),c.a.createElement("br",null),c.a.createElement("a",{href:"https://www.grandpabecksgames.com/products-skull-king"},"What is Skull King?"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.52071bb3.chunk.js.map