(this.webpackJsonpskscorer=this.webpackJsonpskscorer||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),l=n.n(r),c=n(7),o=n.n(c),i=(n(14),n(1)),u=(n(15),n(8));!function(e){e[e.NotYet=1]="NotYet",e[e.Bidding=2]="Bidding",e[e.Playing=3]="Playing",e[e.Completed=4]="Completed"}(a||(a={}));var s=a,d=(n(16),function(e){var t=e.cardCount,n=e.prevRoundScore,a=e.roundMode,c=e.player,o=e.recordBid,d=e.recordScore,m=e.trickPlayedAction,y=e.tricksPlayed,g=e.winning,b=e.startingPlayer,p=e.legendaryExpansionInPlay,E=Object(r.useState)(0),f=Object(i.a)(E,2),h=f[0],v=f[1],S=Object(r.useState)(0),O=Object(i.a)(S,2),k=O[0],j=O[1],C=Object(r.useState)(0),P=Object(i.a)(C,2),w=P[0],N=P[1],A=Object(u.a)(Array(t+1).keys()),B=Object(r.useState)(0),x=Object(i.a)(B,2),I=x[0],R=x[1];Object(r.useEffect)((function(){if(a===s.Completed){var e=(r=t,o=k,i=w,0===(l=h)?0===o?10*r:-10*r:l!==o?10*-Math.abs(l-o):20*o+i);d(c,e+n),R(e)}var r,l,o,i}),[a,h,w,c,I,n,d,t,k]);var F=function(e){v(Math.max(0,Math.min(h+e,t)))},K=g?"rgba(255,215,0,0.6)":b&&a===s.Bidding?"rgba(25,25,200,0.6)":"";return l.a.createElement("td",{className:"PlayerRound",style:{width:160,backgroundColor:K},key:c+t},a===s.Bidding&&l.a.createElement("div",{title:b?"Starts round":""},A.map((function(e){return l.a.createElement(l.a.Fragment,null,"\xa0",l.a.createElement("input",{key:c+e,type:"radio",name:c,id:c+e,value:e,onClick:function(){var t;v(t=e),o(c,t)}}),l.a.createElement("label",{key:c+e+"L",htmlFor:c+e},e),"\xa0",l.a.createElement("br",null))}))),(a===s.Completed||a===s.Playing)&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Bid: ",h," "),l.a.createElement("span",null,"Won: ",k," "),a===s.Playing&&l.a.createElement("div",null,y<t&&l.a.createElement("button",{onClick:function(){j(k+1),m()}},"Add Trick"),p&&k>0&&l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{className:"dropdownbutton"},l.a.createElement("img",{style:{backgroundColor:"white"},alt:"Pirate played",width:16,src:"/SkullKingScorer/Skull-And-Crossbones-Remix.svg"})),l.a.createElement("div",{className:"dropdown-content"},l.a.createElement("div",null,"Use Harry the Giant"),l.a.createElement("div",{className:"dropdown-option",onClick:function(){return F(1)}},"Raise bid by 1"),l.a.createElement("div",{className:"dropdown-option",onClick:function(){return F(-1)}},"Lower bid by 1")))),a===s.Playing&&y===t&&h===k&&h>0&&l.a.createElement("div",null,l.a.createElement("input",{placeholder:"Bonus",type:"number",style:{width:48},onChange:function(e){N(Number(e.target.value))}}))),a===s.Completed&&l.a.createElement(l.a.Fragment,null,w>0&&l.a.createElement("div",null,"Bonus: ",w),l.a.createElement("div",null,"Score: ",I),l.a.createElement("div",null,"Total: ",I+n)))}),m=n(3);m.a.initialize("UA-166808776-1");var y=function(e){var t=e.cardCount,n=e.players,a=e.prevRoundScores,c=e.currentRound,o=e.roundCompleteAction,u=e.winningPlayers,y=e.startingPlayer,g=e.legendaryExpansionInPlay,b=Object(r.useState)(c<t?s.NotYet:c===t?s.Bidding:s.Completed),p=Object(i.a)(b,2),E=p[0],f=p[1],h=Object(r.useState)({}),v=Object(i.a)(h,2),S=v[0],O=v[1],k=Object(r.useState)(!1),j=Object(i.a)(k,2),C=j[0],P=j[1],w=Object(r.useState)(0),N=Object(i.a)(w,2),A=N[0],B=N[1],x=function(e,t){S[e]=t,O(S);var a=!0,r=0;n.forEach((function(e){void 0===S[e]?a=!1:r+=S[e]})),P(a),B(r)},I=Object(r.useState)({}),R=Object(i.a)(I,2),F=R[0],K=R[1],_=function(e,t){F[e]=t,K(F)};Object(r.useEffect)((function(){f(c<t?s.NotYet:c===t?s.Bidding:s.Completed)}),[t,c]);var M=Object(r.useState)(0),J=Object(i.a)(M,2),W=J[0],Y=J[1],G=function(){Y(W+1)},U=Object(r.useState)(!1),z=Object(i.a)(U,2),L=z[0],H=z[1];return l.a.createElement("tr",{className:"Round"},l.a.createElement("td",{key:"cardCount"},t,!C&&c===t&&l.a.createElement("div",null,"Enter bids")),n.map((function(e){return l.a.createElement(d,{key:e+t,cardCount:t,trickPlayedAction:G,tricksPlayed:W,prevRoundScore:a&&a[e]?a[e]:0,roundMode:E,player:e,recordBid:x,recordScore:_,winning:u.includes(e)&&t===c-1,startingPlayer:y===e,legendaryExpansionInPlay:g})})),l.a.createElement("td",{style:{width:50,border:"none"}},E===s.Bidding&&C&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:function(){f(s.Playing),1===c&&m.a.event({action:"game_started",category:"game_activity",label:"Players: "+n})}},"Start Round"),l.a.createElement("div",{style:{width:100}},A===t?"Bids at par":A<t?"Bids "+(t-A)+" under":"Bids "+(A-t)+" over")),E===s.Playing&&W<t&&!L&&g&&l.a.createElement("button",{onClick:function(){H(!0),G()}},"Kraken Played"),E===s.Playing&&W===t&&l.a.createElement("button",{onClick:function(){f(s.Completed),o(F)}},"Round done")))};n(19);m.a.initialize("UA-166808776-1");var g=function(e){var t=e.players,n=e.deletePlayerAction,a=e.startGameAction,c=e.legendaryExpansionInPlay,o=Object(r.useState)(1),u=Object(i.a)(o,2),s=u[0],d=u[1],g=Object(r.useState)([]),b=Object(i.a)(g,2),p=b[0],E=b[1],f=Object(r.useState)([]),h=Object(i.a)(f,2),v=h[0],S=h[1],O=function(e){1===s&&a(),p[s]=e,E(p),10===s?m.a.event({action:"game_completed",category:"game_activity",label:"Winners: "+v+" Score: "+p[s][v[0]]}):d(s+1)},k=Object(r.useState)(0),j=Object(i.a)(k,2),C=j[0],P=j[1];return Object(r.useEffect)((function(){var e=0;if(s>1){var t=s-1;for(var n in p[t])p[t][n]>e?(v=[n],e=p[t][n]):p[t][n]===e&&v.push(n);S(v)}}),[p,s]),l.a.createElement(l.a.Fragment,null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Round"),t.map((function(e){return l.a.createElement("th",{key:e,title:1===s?"Click here to make this the starting player":"",onClick:function(){return function(e){if(1===s){var n=0,a={};t.forEach((function(e){a[e]=n++})),P(a[e])}}(e)}},e,"\xa0",1===s&&l.a.createElement("button",{onClick:function(){n(e)}},"\u2717"))})))),l.a.createElement("tbody",null,[1,2,3,4,5,6,7,8,9,10].map((function(e){return l.a.createElement(y,{key:e,cardCount:e,players:t,prevRoundScores:e>1?p[e-1]:null,currentRound:s,roundCompleteAction:O,winningPlayers:v,startingPlayer:t[(C+e-1)%t.length],legendaryExpansionInPlay:c})})))))};var b=function(){var e=localStorage.getItem("players"),t=["Player 1","Player 2","Player 3"];e&&(t=JSON.parse(e));var n=Object(r.useState)(t),a=Object(i.a)(n,2),c=a[0],o=a[1],u=Object(r.useState)(""),s=Object(i.a)(u,2),d=s[0],m=s[1],y=Object(r.useState)(!1),b=Object(i.a)(y,2),p=b[0],E=b[1],f=Object(r.useState)(!1),h=Object(i.a)(f,2),v=h[0],S=h[1],O=Object(r.useState)("true"===localStorage.getItem("legendaryExpansionInPlay")),k=Object(i.a)(O,2),j=k[0],C=k[1];return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"App-body"},l.a.createElement("h1",null,"Ye New Skull King Scoresheet"),!p&&!v&&l.a.createElement("div",null,l.a.createElement("input",{id:"legendary_expansion_cb",type:"checkbox",checked:j,onChange:function(e){C(!j),localStorage.setItem("legendaryExpansionInPlay",String(!j))},title:"Adds support for the Kraken and Harry the Giant cards"}),l.a.createElement("label",{htmlFor:"legendary_expansion_cb"},"Use Legendary Expansion"),l.a.createElement("button",{onClick:function(){E(!0)}},"Add player")),p&&l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{type:"text",placeholder:"name",onChange:function(e){m(e.target.value)}}),l.a.createElement("button",{onClick:function(){c.push(d),o(c),E(!1),localStorage.setItem("players",JSON.stringify(c))}},"OK")),l.a.createElement(g,{players:c,deletePlayerAction:function(e){o(c.filter((function(t){return t!==e}))),localStorage.setItem("players",JSON.stringify(c.filter((function(t){return t!==e}))))},startGameAction:function(){S(!0)},legendaryExpansionInPlay:j}),l.a.createElement("br",null),l.a.createElement("div",{style:{fontSize:11}},"\xa9 2020 Craig Fisher ",l.a.createElement("a",{href:"https://twitter.com/craigfis"},"@craigfis"),l.a.createElement("br",null),l.a.createElement("a",{href:"https://github.com/Craigfis/SkullKingScorer"},"https://github.com/Craigfis/SkullKingScorer"),l.a.createElement("br",null),l.a.createElement("a",{href:"https://www.grandpabecksgames.com/products-skull-king"},"What is Skull King?"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.80f42fc2.chunk.js.map